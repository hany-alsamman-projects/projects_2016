(function(b){b.cjBgSlideshow=function(h,db){function bd(){dc&&b("head").append('<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />');h.disableRightClick&&eb.bind("contextmenu",function(a){a.preventDefault()});eb.find("#cj-preloader").length&&(Ia=b("#cj-preloader"));if(!O||!h.useCanvasAnimation)fb=!1;I.length||(O=!1);0===Fb&&(Fb=999);var a,f,i,Y,d,j,e,g,p,n,o,q,u,t,x,w,y,v,D=!1;if(b.browser.msie){var A=parseInt(b.browser.version,10);ga&&7===A&&(D=!0);z.length&& 8<A&&z.addClass("cj-gc-fix");8===A&&(ec=!0)}1===ha&&J&&(gb.css("display","none"),J=!1);Gb.each(function(c){f=[];i=[];a=[];p=[];u=[];o=[];q=[];b(this).children("li").each(function(c){Y=b(this).find(".cj-large");d=b(this).find(".cj-thumb");j=b(this).find(".cj-video");e=b(this).find(".cj-info");g=b(this).find(".cj-link");Y.length?Y.attr("title")&&(a[c]=Y.attr("title")):a[c]="";d.length?d.attr("title")&&(p[c]=d.attr("title"),""!==b.trim(d.text())?f[c]=d.html():f[c]=""):(Hb[c]="",f[c]="");e.length?""!== b.trim(e.text())?o[c]=e.html():o[c]="":o[c]="";j.length?j.attr("title")?u[c]=j.attr("title"):u[c]="":u[c]="";g.length?g.attr("title")?(i[c]=g.attr("title"),g.attr("data-rel")?q[c]=g.attr("data-rel"):q[c]="_parent"):(i[c]="",q[c]=""):(i[c]="",q[c]="")});b(this).attr("class")?(v=b(this).attr("class"),-1===v.search("fit")?(w=!0,n=-1===v.search("center")?!1:!0):(w=!1,n=!0),-1!==v.search("fade")||D?t=0:-1!==v.search("slide")?-1===v.search("over")?t=1:t=2:t=3):(t=w=!0,n=!1);y=b(this).attr("title");b(this).removeAttr("title"); ta[c]=y.toLowerCase();J&&(ia[c]=b("<div />").addClass("cj-category").html(y).data({id:c,stretch:w,center:n}).appendTo(gb));b(this).attr("data-rel")&&(x=b(this).attr("data-rel").split("x"),Ib[c]={width:parseInt(x[0],10),height:parseInt(x[1],10)});hb[c]=a;fc[c]=o;gc[c]=t;hc[c]=u;Hb[c]=p;ic[c]=q;jc[c]=i;kc[c]=f});J||(Ja=w,Jb=n);ib?cd.click(jb):Z.length&&Z.hide();!J&&O?I.addClass("cj-no-categories"):!J&&!O&&G&&(z.css("height",z.height()+parseInt(z.css("padding-top"),10)),b("#cj-footer-container").addClass("cj-footer-controls-only"), P.length&&P.hide());kb&&G&&(Kb=s.outerWidth(!0)>>1,Lb?(P.data("isOpen",!0).click(Ka),ja.hide().data("isOpen",!1).click(Ka)):(P.length&&P.hide(),ja.length&&ja.hide()));La?($.click(Ma),aa.click(Ma),lc?($.hide(),aa.show()):(aa.hide(),$.show())):(aa.length&&aa.hide(),$.length&&$.hide());Mb||(Na.length&&Na.hide(),Oa.length&&Oa.hide());Nb=G?z.outerWidth(!0)>>1:null;K.css({display:"none",visibility:"visible"});catLeg=hb.length-1;E.css({position:lb,overflow:"hidden",zIndex:-1E4});F.css({position:lb,overflow:"hidden", zIndex:-1E4});ga?(k=ka.width()-mc,k=Math.max(k,nc),l=ka.height()-oc,E.css({top:Q,left:r}),F.css({top:Q,left:r}),H.css({top:Q,left:r}),R.prepend(E).prepend(F).append(m).append(B)):(k=h.customWidth,l=h.customHeight,H.append(m).append(B),H.css({width:k,height:l,position:"relative"}).prepend(E).prepend(F),b("<div />").css({width:k,height:l,position:"absolute",backgroundColor:h.backgroundColor?h.backgroundColor:"#000",zIndex:-10001}).prependTo(H));Pa=b("<div />").css({width:k,height:l,position:"fixed"}).addClass("cj-bg-click").prependTo(H); S=k>>1;ua=l>>1;pc=parseInt(m.css("height"),10)>>1;qc=parseInt(m.css("width"),10);C?(b.address.internalChange(T),b.address.externalChange(rc),cjAjaxVersion&&b.address.update()):(c=0,rc());ga&&ka.resize(sc);Gb=h=null}function rc(a){"undefined"!==typeof Qa&&clearTimeout(Qa);va();mb&&(0===v?j&&(j.unbind("load",wa).attr("src","").remove(),j=null):e&&(e.unbind("load",wa).attr("src","").remove(),e=null),mb=!1);ba=la=!1;C?nb(a.value):nb();tc?(Ob(),tc=!1):(uc(),Qa=setTimeout(Ob,750))}function T(a){"undefined"!== typeof Qa&&clearTimeout(Qa);va();uc();C?nb(a.value):nb();Ob()}function nb(a){C&&(a=a.split("//").join("/"),"/"!==a?(a=a.split("/"),3===a.length?(c=parseInt(a[2],10)-1,t=a[1]):isNaN(a[1])?(c=0,t=a[1]):(c=parseInt(a[1],10)-1,t="")):(t="/",c=0));!Pb&&O?vc(c):Pb=!1}function Ob(){var a;if(C)if(Ra=d,"/"!==t&&""!==t)for(a=ha;a--;){if(ta[a]===t){d=a;break}}else d=0;if(J)for(a=ha;a--;)a!==d?ia[a].css({opacity:wc,cursor:"pointer"}):ia[d].css({opacity:1,cursor:"default"});Ia&&Ia.fadeIn(300);if(Ra!==d||!xc){xa= gc[d];xc=!0;ca=hb[d];ya=kc[d];za=Hb[d];Aa=fc[d];ma=jc[d];da=hc[d];Sa=ic[d];n=ca.length;Ba=n-1;if(dd){a=[];var f=[],i=[],Y=[],j=[],k=[],l=[],g,e;for(g=0;g<n;g++)a[g]=ca[g],f[g]=ya[g],i[g]=za[g],Y[g]=Aa[g],j[g]=ma[g],k[g]=da[g],l[g]=Sa[g];ca=[];ya=[];za=[];Aa=[];ma=[];da=[];for(Sa=[];0<a.length;)g=Math.random()*a.length|0,e=ca.length,ca[e]=a[g],ya[e]=f[g],za[e]=i[g],Aa[e]=Y[g],ma[e]=j[g],da[e]=k[g],Sa[e]=l[g],a.splice(g,1),f.splice(g,1),i.splice(g,1),Y.splice(g,1),j.splice(g,1),k.splice(g,1),l.splice(g, 1)}c>Ba&&(c=0);J&&(Ja=ia[d].data("stretch"),Jb=ia[d].data("center"));if(O)na=Ib[d].width,ob=Ib[d].height;E.css("left",r);F.css("left",r);Qb&&Qb();if(null!==o){for(;o.length;)oa[0].unbind("load",yc).attr("src","").unbind("mousemove",Ta),U[0].stop(!0,!0).empty(),o[0].unbind("mouseover",pb).unbind("mouseout",qb).removeData("id").empty(),o.shift(),oa.shift(),U.shift();I.stop(!0,!0).empty();Rb=!1;Ua&&L.stop(!0,!0).css("display","none");U=oa=o=null}Sb&&zc()}else Ca&&Ac(!0,!1);ec?Bc(ca[c]+"?img="+(new Date).getTime().toString()): Bc(ca[c]);ib&&(Z.length&&Z.unbind("click",jb),b.data(R,"cjInfoOn")&&Va.stop(!0,!0).fadeOut(300))}function Bc(a){mb=!0;0===v?(E.css("z-index",parseInt(F.css("z-index"),10)+1),j=b("<img />").attr("id","cj-img-one").css({display:"none",position:lb}).addClass("cj-no-select").one("load",wa).appendTo(E),j.attr("src",a)):(F.css("z-index",parseInt(E.css("z-index"),10)+1),e=b("<img />").attr("id","cj-img-two").css({display:"none",position:lb}).addClass("cj-no-select").one("load",wa).appendTo(F),e.attr("src", a));Tb&&Tb()}function wa(a){a.stopPropagation();mb=!1;0===v?(Wa=j.width()||j[0].width,Xa=j.height()||j[0].height,v=1):(Wa=e.width()||e[0].width,Xa=e.height()||e[0].height,v=0);Ia&&Ia.fadeOut(300);sc();rb=!0;if(Cc)Cc=!1,j.fadeIn(D,V);else if(0===xa)Ja||Dc(),1===v?j.fadeIn(D,V):e.fadeIn(D,V);else if(la?ba&&(pa=sb===Ba&&0===c?!0:0===sb&&c===Ba?!1:c>sb?!0:!1):pa=!0,3!==xa){var b;pa?(a=1,b=-1):(a=-1,b=1);1===v?(E.css("left",k*a+r),j.css("display","block"),1===xa&&F.animate({left:k*b+r},D),E.animate({left:r}, D,V)):(F.css("left",k*a+r),e.css("display","block"),1===xa&&E.animate({left:k*b+r},D),F.animate({left:r},D,V))}else a=k+r,pa?1===v?j.css({clip:"rect(0px, "+a+"px, "+l+"px, "+a+"px)",display:"block"}).animate({clip:"rect(0px, "+a+"px, "+l+"px, 0px)"},D,V):e.css({clip:"rect(0px, "+a+"px, "+l+"px, "+a+"px)",display:"block"}).animate({clip:"rect(0px, "+a+"px, "+l+"px, 0px)"},D,V):1===v?j.css({clip:"rect(0px, 0px, "+l+"px, 0px)",display:"block"}).animate({clip:"rect(0px, "+a+"px, "+l+"px, 0px)"},D,V): e.css({clip:"rect(0px, 0px, "+l+"px, 0px)",display:"block"}).animate({clip:"rect(0px, "+a+"px, "+l+"px, 0px)"},D,V);sb=c}function va(){fb&&("undefined"!==typeof tb&&clearInterval(tb),q&&(q.closePath(),q.clearRect(0,0,51,51),q=null),null!==M&&(M.remove(),M=null),Da=null);ub&&clearTimeout(ub)}function Dc(){1===v?e&&(e.unbind("load",wa).attr("src","").stop(!0,!0).remove(),e=null):j&&(j.unbind("load",wa).attr("src","").stop(!0,!0).remove(),j=null)}function V(){rb=!1;(0!==xa||Ja)&&Dc();null===o&&!Ec&& (kb&&O?Sb||(zc(),Sb=!0):kb&&(Fc(),vb=!1,J&&gb.addClass("cj-no-thumbnails"),s.css({display:"none",visibility:"visible"}).fadeIn(300)),Ec=!0);var a;""===da[c]?a=!1:(K.stop(!0,!0).css({cursor:"pointer",top:ua-Gc+Q,left:S-Hc+r}).click(Ea).fadeIn(300),a=wb=!0);va();var f,i=!0,e;if(J)for(f=ha;f--;)f!==d&&ia[f].mouseover(Ic).mouseout(Jc).click(Kc);if(1<n){if(null!==o)for(f=n;f--;)f!==c&&o[f].click(Ub);Mb&&(Oa.click(Vb),Na.click(Ya));A&&(fb&&O?(null===M&&(M=b("<canvas />")),M.css({marginLeft:(na>>1)-26,marginTop:(xb>> 1)-26}).appendTo(U[c]),Lc()):ub=setTimeout(Wb,Xb))}a?e=Ea:""!==ma[c]?e=Mc:ed?e=Ya:i=!1;i&&Pa.css("cursor","pointer").click(e);Nc&&eb.keydown(Oc);qa=!1;Fa=!0;Pc&&(ib&&(b.data(R,"cjInfoOn",!1),jb()),Pc=!1);Yb&&Yb();ib&&(""!==b.trim(Aa[c])?(Qc.html(Aa[c]),b.data(R,"cjInfoOn")&&Va.stop(!0,!0).css("display","none").fadeIn(300),Z.length&&Z.css("cursor","pointer").removeClass("cj-no-info-hover").click(jb)):Z.length&&Z.addClass("cj-no-info-hover").css("cursor","auto"))}function Wb(){ba=la=!1;Rc()}function uc(){qa= !0;Fa=!1;var a;if(J)for(a=ha;a--;)ia[a].unbind("click",Kc).unbind("mouseover",Ic).unbind("mouseout",Jc);if(null!==o)for(a=n;a--;)o[a].unbind("click",Ub);Mb&&(Oa.unbind("click",Vb),Na.unbind("click",Ya));Nc&&eb.unbind("keydown",Oc);Pa.unbind("click",Ya).unbind("click",Ea).unbind("click",Mc).css("cursor","auto");Za()}function Mc(){"_parent"===Sa[c]?window.location=ma[c]:window.open(ma[c]);La?(A=!0,Ma()):(va(),A=!1,qa||(Fa=!0));"undefined"!==typeof b.cjMusicPlayer&&b.cjMusicPlayer.toggleMusic(!0)}function Ea(a){a.stopPropagation(); K.unbind("click",Ea).css("cursor","auto");Sc=A;La?(A=!0,Ma()):(va(),A=!1,qa||(Fa=!0));ea.css({width:k,height:l}).appendTo(H).fadeIn(500,fd);yb=!0}function fd(){"undefined"!==typeof b.cjMusicPlayer&&b.cjMusicPlayer.toggleMusic(!0);var a=da[c],f=!1;W=$a;-1!==a.search("youtube.com")?a=gd.split("{url}").join(a.split("watch?v=")[1]):-1!==a.search("vimeo.com")?a=hd.split("{url}").join(a.substring(a.lastIndexOf("/"))):-1!==a.search(".mp4")?(f=!0,a=da[c].split(".mp4")[0],ab.length&&(ab.show(),W+=parseInt(ab.css("height"), 10))):a=da[c];if(f)ra.length&&"undefined"!==typeof b.cjVideoPlayer&&(ra.appendTo(R),X=b("<video />").attr("id","cj-html-video").attr("width",N).attr("height",$a),f=b.cjVideoPlayer.getValues(),X.html('<object type="application/x-shockwave-flash" data="'+Tc+'" width="'+N+'" height="'+($a+28)+'"><param name="movie" value="'+Tc+'" /><param name="allowScriptAccess" value="always" /><param name="bgcolor" value="#000000" /><param name="allowfullscreen" value="true" /><param name="wmode" value="gpu" /><param name="flashvars" value="url='+ a+"&vol="+f[0]+"&auto="+f[1]+"&width="+N+"&height="+$a+'" /></object>'),b("<source />").attr("type","video/webm").attr("src",a+".webm").prependTo(X),b("<source />").attr("type","video/ogg").attr("src",a+".ogv").prependTo(X),b("<source />").attr("type","video/mp4").attr("src",a+".mp4").prependTo(X),X.prependTo(ra),sa.appendTo(R).fadeIn(300),Modernizr.video?(f=b.cjVideoPlayer.instance(zb),Ab=f[0],Bb=f[1]):ab.length&&ab.hide(),zb(),ka.resize(zb),ra.fadeIn(300));else{var f=S-(N>>1)+r,i=ua-(W>>1)+Q;Ga= b("<iframe />").attr("type","text/html").attr("width",N.toString()).attr("height",$a.toString()).attr("frameborder",0).attr("src",a).addClass("cj-video-iframe").css({position:ga?"fixed":"absolute",left:f,top:i}).appendTo(ea);sa.css({top:i+W,left:f+N}).appendTo(H).show()}sa.click(Za);ea.click(Za)}function zb(){var a=H.offset(),b=a.left+S-(N>>1),a=a.top+(l>>1)-(W>>1);null!==Bb?Bb()||ra.css({left:b,top:a}):ra.css({left:b,top:a});sa.css({left:b+N,top:a+W})}function Za(a){a?(a.stopPropagation(),a=!0): a=!1;ea.unbind("click",Za);sa.unbind("click",Za).stop(!0,!0);wb&&(a?K.css("cursor","pointer").click(Ea):(K.unbind("click",Ea).css("cursor","auto").fadeOut(250,id),wb=!1));yb&&(a?(null!==Ga&&Ga.empty().remove(),ea.stop(!0,!0).fadeOut(500,jd)):(ea.stop(!0,!0).css("display","none").empty().detach(),"undefined"!==typeof b.cjMusicPlayer&&b.cjMusicPlayer.toggleMusic(!1)),null!==X&&(null!==Ab&&Ab(),X.empty().remove(),ka.unbind("resize",zb),ra.css("display","none"),Ab=Bb=X=null),Ga=null,sa.hide(),yb=!1,Sc&& (La?(A=!1,Ma()):(A=!0,Uc())))}function id(){K.hide()}function jd(){ea.empty().detach();"undefined"!==typeof b.cjMusicPlayer&&b.cjMusicPlayer.toggleMusic(!1)}function Ka(a,c){null!==a&&(a.stopPropagation(),c=b(this).data("isOpen"));if(vb){var i=G?z.outerHeight(!0):0,i=-s.outerHeight(!0)+i,e=parseInt(m.css("top"),10);s.css("bottom",i).data("hidden",!0);m.data("top",e);e-=i;m.css("top",e);B.css("top",e);Lb&&(P.hide(),ja.show());G&&z.css("display","none").fadeIn(300)}else c?(i=G?z.outerHeight(!0):0,i= -s.outerHeight(!0)+i,s.stop(!0,!0).data("hidden",!0).animate({bottom:i},200),Ca&&(i=m.data("top")-i,m.animate({top:i},200),B.animate({top:i},200)),P.hide(),ja.show()):(s.stop(!0,!0).data("hidden",!1).animate({bottom:0},200),Ca&&(i=m.data("top"),m.animate({top:i},200),B.animate({top:i},200)),ja.hide(),P.show())}function jb(){b.data(R,"cjInfoOn")?(b.data(R,"cjInfoOn",!1),Va.stop(!0,!0).fadeOut(300)):(b.data(R,"cjInfoOn",!0),Va.stop(!0,!0).css("display","none").fadeIn(300))}function Ic(){b(this).css("opacity", 1)}function Jc(){b(this).css("opacity",wc)}function Kc(a){a.stopPropagation();la=!0;ba=!1;pa=!0;qa||(C?b.address.value(ta[b(this).data("id")]):(d=b(this).data("id"),c=0,T(),Ra=d))}function Oc(a){switch(a.keyCode){case 39:Ya();break;case 37:Vb();break;case 40:Ka(null,!0);break;case 38:Ka(null,!1)}}function Vb(a){a&&a.stopPropagation();la=!0;pa=ba=!1;0<c?(c--,C?b.address.value(t.split("/").join("")+"/"+(c+1).toString()):T()):(a=0<d?d-1:catLeg,c=hb[a].length-1,C?b.address.value(ta[a]+"/"+(c+1).toString()): (d=a,T(),Ra=d))}function Ya(a){a&&a.stopPropagation();pa=la=!0;ba=!1;Rc()}function Rc(){c<Ba?(c++,C?b.address.value(t.split("/").join("")+"/"+(c+1).toString()):T()):(c=0,C?b.address.value(ta[d<catLeg?d+1:0]):(d<catLeg?d++:d=0,T(),Ra=d))}function Ma(a){a&&a.stopPropagation();A?(va(),aa.hide(),$.show(),A=!1,qa||(Fa=!0)):($.hide(),aa.show(),A=!0,Fa&&Uc())}function zc(){oa=[];U=[];o=[];bb=0;for(var a,f=0;f<n;f++)a=b("<div />").data("id",f).addClass("cj-thumb-div").width(na).height(ob).appendTo(I),oa[f]= b("<img />").addClass("cj-thumb-image").one("load",yc).appendTo(a),U[f]=b("<div />").addClass("cj-thumb-hover").css({width:na,height:ob,opacity:f!==c?0:Zb}).appendTo(a),o[f]=a;xb=a.outerHeight(!0);Ha=a.outerWidth(!0)-na;fa=na+Ha;Ha-=parseInt(a.css("borderLeftWidth"),10)<<1;Vc=Ha<<1;Wc=fa*n;Xc=(ob>>1)-pc;p=0;Yc()&&($b(),m.fadeIn(300),B.fadeIn(300));s.css("visibility","visible");Rb=!0;o[0].addClass("cj-thumb-div-first");oa[0].attr("src",za[0]);s.data("hidden")&&(a=G?z.outerHeight(!0):0,a=-s.outerHeight(!0)+ a,f=m.data("top")-a,s.stop(!0,!0).css("bottom",a),m.css("top",f),B.css("top",f));vb&&(kd&&G&&Lb&&Ka(null),vb=!1)}function $b(){m.stop(!0,!0).css("display","block").unbind("click",x).unbind("mouseover",w).unbind("mouseout",y);B.stop(!0,!0).css("display","block").unbind("click",x).unbind("mouseover",w).unbind("mouseout",y);p<n-u?B.css({cursor:"pointer",opacity:1}).mouseover(w).mouseout(y).click(x):B.css({cursor:"auto",opacity:Cb}).removeClass("cj-thumb-arrow-hover");0<p?m.css({cursor:"pointer",opacity:1}).mouseover(w).mouseout(y).click(x): m.css({cursor:"auto",opacity:Cb}).removeClass("cj-thumb-arrow-hover")}function yc(a){a.stopPropagation();bb<Ba&&(bb++,oa[bb].attr("src",za[bb]));a=b(this).parent().data("id");a!==c&&o[a].css("cursor","pointer").mouseover(pb).mouseout(qb).click(Ub);b(this).fadeIn(300)}function Yc(a){u=(k-80)/fa|0;u=Math.min(u,Fb);u=Math.min(u,n);ac=u-1;var b=u*fa+Ha,c=b>>1;I.parent().css("width",b-Vc);I.css({width:Wc,height:xb});s.css({left:S-c+r,width:b});G&&z.css({marginLeft:c-Nb});Ac(!1,a);if(u<n){a&&$b();if(a= s.data("hidden"))c=G?z.outerHeight(!0):0,s.stop(!0,!0).css("bottom",-s.outerHeight(!0)+c);var e=H.offset(),d=s.offset(),c=I.offset().top-e.top+Xc+Q;m.css({top:c,left:d.left-e.left-qc+r});B.css({top:c,left:d.left-e.left+b+r});Ca=!0;a?(b=G?z.outerHeight(!0):0,m.data("top",c+(-s.outerHeight(!0)+b))):m.data("top",c)}else m.stop(!0,!0).unbind("click",x).unbind("mouseover",w).unbind("mouseout",y).removeClass("cj-thumb-arrow-hover").css("display","none"),B.stop(!0,!0).unbind("click",x).unbind("mouseover", w).unbind("mouseout",y).removeClass("cj-thumb-arrow-hover").css("display","none"),Ca=!1;return Ca}function Ac(a,b){if(b)p=c,0!==c&&c+u>n&&(p=n-u),I.stop(!0,!0).css("marginLeft",p*-fa);else{if(0===c)p=0;else if(c>p+ac)for(;c>p+ac;)p++;a?I.stop(!0).animate({marginLeft:p*-fa},500):I.stop(!0,!0).css("marginLeft",p*-fa)}$b()}function pb(a){a.stopPropagation();b(this).children("div").stop(!0).fadeTo(300,Zb);var c=b(this).data("id");if(Ua&&""!==ya[c]){if(ga)Db=Eb=0;else{var i=H.offset();Eb=i.top;Db=i.left}L.stop(!0, !0).html(ya[c]);bc=L.outerHeight(!0)+10;cc=L.outerWidth(!0)>>1;L.css({display:"none",top:a.pageY-Eb-bc,left:a.pageX-Db-cc}).fadeIn(300);b(this).mousemove(Ta)}}function qb(a){a.stopPropagation();b(this).children("div").stop(!0).fadeTo(300,0);Ua&&(b(this).unbind("mousemove",Ta),L.stop(!0,!0).fadeOut(200))}function Ta(a){a.stopPropagation();L.css({top:a.pageY-Eb-bc,left:a.pageX-Db-cc})}function Ub(a){a.stopPropagation();qa||(ba=la=!0,a=b(this).data("id"),vc(a),Ua&&(b(this).unbind("mousemove",Ta),L.stop(!0, !0).fadeOut(200)),Pb=!0,C?b.address.value(t.split("/").join("")+"/"+(a+1).toString()):(c=a,T()))}function x(a){a.stopPropagation();if(b(this).data("right"))if(p<n-u)p++,p===n-u&&B.unbind("click",x).unbind("mouseover",w).unbind("mouseout",y).removeClass("cj-thumb-arrow-hover").css({cursor:"auto",opacity:Cb}),m.unbind("click",x).unbind("mouseover",w).unbind("mouseout",y).css({cursor:"pointer",opacity:1}).mouseover(w).mouseout(y).click(x);else return;else if(0<p)p--,0===p&&m.unbind("click",x).unbind("mouseover", w).unbind("mouseout",y).removeClass("cj-thumb-arrow-hover").css({cursor:"auto",opacity:Cb}),B.unbind("click",x).unbind("mouseover",w).unbind("mouseout",y).css({cursor:"pointer",opacity:1}).mouseover(w).mouseout(y).click(x);else return;I.stop(!0).animate({marginLeft:p*-fa},300)}function w(a){a.stopPropagation();b(this).addClass("cj-thumb-arrow-hover")}function y(a){a.stopPropagation();b(this).removeClass("cj-thumb-arrow-hover")}function vc(a){for(var b=n;b--;)b!==a?(U[b].stop(!0,!0).css("opacity", 0),o[b].stop(!0,!0).css("cursor","pointer").mouseover(pb).mouseout(qb)):(U[b].stop(!0,!0).css("opacity",Zb),o[b].unbind("mouseover",pb).unbind("mouseout",qb).css("cursor","auto"),!ba&&Ua&&(o[b].unbind("mousemove",Ta),L.stop(!0,!0).fadeOut(200)))}function Uc(){fb&&O?(null===M&&(M=b("<canvas />")),M.css({marginLeft:(na>>1)-26,marginTop:(xb>>1)-26}).appendTo(U[c]),Lc()):ub=setTimeout(Wb,Xb)}function Lc(){cb=1;Da=M[0];q=Da.getContext("2d");Da.width=51;Da.height=51;q.lineWidth=10;q.strokeStyle="#000"; tb=setInterval(ld,md)}function ld(){Zc=$c+0.02*cb*Math.PI;q.clearRect(0,0,51,51);q.beginPath();q.arc(26,26,13,$c,Zc,!1);q.stroke();q.save();100>cb?cb+=1:(clearInterval(tb),q.closePath(),Da=q=null,Wb())}function Fc(){s.css({left:S-Kb});G&&z.css({marginLeft:Kb-Nb})}function sc(a){ga&&(k=ka.width()-mc,k=Math.max(k,nc),S=k>>1,l=ka.height()-oc,ua=l>>1);if("undefined"!==typeof j){var a="object"===typeof a?!0:!1,b=k/Wa,c=l/Xa,d,h;a&&rb&&(rb=!1,j&&j.stop(!0,!0),e&&e.stop(!0,!0),E.stop(!0,!0),F.stop(!0,!0)); Ja?(c=b>c?b:c,b=Math.ceil(Wa*c),c=Math.ceil(Xa*c),Jb?(b>k?d=b-k>>1:d=0,c>l?h=c-l>>1:h=0):h=d=0):(c=b>c?c:b,b=Math.ceil(Wa*c),c=Math.ceil(Xa*c),k>b?d=-(k-b>>1):d=0,l>c?h=-(l-c>>1):h=0);1===v?(E.css({width:k,height:l}),j&&j.width(b).height(c).css({marginTop:-h,marginLeft:-d})):(F.css({width:k,height:l}),e&&e.width(b).height(c).css({marginTop:-h,marginLeft:-d}));a&&(j&&j.css("clip","auto"),e&&e.css("clip","auto"),Rb?Yc(!0):kb&&Fc(),yb&&(ea.css({width:k,height:l}),null!==Ga&&(d=S-(N>>1)+r,h=ua-(W>>1)+ Q,Ga.css({left:d,top:h}),sa.css({left:d+N,top:h+W}))),wb&&K.css({top:ua-Gc+Q,left:S-Hc+r}),Pa&&Pa.css({width:k,height:l}))}}var H=b("#cj-gallery");if(H.length){var Zb=h.thumbHoverOpacity,Tc=db.videoFallbackSwf,Xb=h.transitionDelay,wc=h.categoryOpacity,Pc=h.showInfoByDefault,ed=h.bgClickLoadsNext,kd=h.hideThumbnails,dd=h.randomizeImages,Nc=h.keyboardControls,$a=db.videoHeight,C=h.useDeepLink,N=db.videoWidth,Fb=h.maxThumbs,D=h.transitionTime,O=h.useThumbs,lc=h.autoPlay,ga=h.fullScreen,oc=h.offsetHeight, mc=h.offsetWidth,r=h.offsetX,Q=h.offsetY,Qb,Nb,Tb,Yb,Sa,Kb,da,Sc,ma,La,fa,pc,qc,Aa,Wc,Xc,tb,Ha,Vc,xb,oa,U,ac,bb,na,ba,pa,za,ob,bc,la,Ja,u,Jb,cc,W,k,S,l,Qa,Xa,q,ya,Db,Pa,K,Eb,Da,Wa,j,e,xa,sb,ub,cb,ca,t,ua,Ba,c,Zc,n,Ia,v=0,d=0,Ra=0,p=0,nc=600,Cb=0.75,$c=1.5*Math.PI,md=Xb/100,fb=Modernizr.canvas,Ga=null,o=null,M=null,Bb=null,X=null,Ab=null,Ec=!1,wb=!1,Sb=!1,Ca=!1,Fa=!1,Rb=!1,yb=!1,vb=!0,mb=!1,Pb=!1,Cc=!0,tc=!0,rb=!1,xc=!1,qa=!1,hb=[],jc=[],fc=[],Ib=[],gc=[],Hb=[],ia=[],hc=[],ic=[],kc=[],ta=[],ka=b(window), eb=b(document),R=b("body"),E=b("<div />"),F=b("<div />"),ja=b(".cj-up-icon"),Gb=b("#cj-bg-images").children("ul"),$=b(".cj-play-icon"),Oa=b(".cj-left-icon"),Z=b(".cj-info-icon"),Na=b(".cj-right-icon"),aa=b(".cj-pause-icon"),P=b(".cj-close-icon"),gb=b("#cj-categories"),Va=b("#cj-image-info"),cd=b(".cj-close-info"),L=b("#cj-thumb-tooltip"),s=b("#cj-footer"),I=b("#cj-thumbnails"),ab=b("#cj-vid-controls"),Qc=b("#cj-image-info-text"),ra=b("#cj-video-player"),z=b("#cj-gallery-controls"),sa=b("<div />").addClass("cj-video-close"), ea=b("<div />").addClass("cj-video-lightbox").css({top:Q,left:r});K=b("<div />").addClass("cj-video-button").appendTo(H);var B=b("<div />").addClass("cj-thumb-right").data("right",!0),m=b("<div />").addClass("cj-thumb-left").data("right",!1),Gc=parseInt(K.css("height"),10)>>1,Hc=parseInt(K.css("width"),10)>>1,ad=db.autoPlayVideo?"1":"0",lb=ga?"fixed":"absolute",A=lc,ha=Gb.length,ec=b.browser.webkit,J=gb.length,nd=DetectTierIphone(),dc=DetectTierTablet(),kb=s.length,Mb=Na.length&&Oa.length;La=$.length&& aa.length;var Lb=P.length&&ja.length,G=z.length,Ua=h.useThumbToolTip&&L.length,ib=Va.length&&Qc.length,hd="http://player.vimeo.com/video{url}?title=0&byline=0&portrait=0&autoplay="+ad,gd="http://www.youtube.com/embed/{url}?autoplay="+ad+"&autohide=1&hd=1&iv_load_policy=3&showinfo=0&showsearch=0&wmode=transparent";b.cjBgSlideshow.getPhone=function(){return nd};b.cjBgSlideshow.getTablet=function(){return dc};0!==ha&&bd();b.cjBgSlideshow.getCatOn=function(){return d};b.cjBgSlideshow.getIsOn=function(){return c}; b.cjBgSlideshow.getHash=function(){return t};b.cjBgSlideshow.setURL=function(a){C&&"undefined"!==typeof a&&b.address.value(a)};b.cjBgSlideshow.setCategory=function(a){"undefined"!==typeof a&&-1<a&&a>ha&&(C?b.address.value(ta[a]):(d=a,T()))};b.cjBgSlideshow.setImage=function(a){"undefined"!==typeof a&&-1<a&&a>n&&(C?b.address.value(t.split("/").join("")+"/"+(a+1).toString()):(c=a,T()))};b.cjBgSlideshow.addCallback=function(a,b){if("undefined"!==typeof a&&"undefined"!==typeof b)switch(a.toLowerCase()){case "categorychange":Qb= b;break;case "imagechange":Tb=b;break;case "imageloaded":Yb=b}}}}})(jQuery);